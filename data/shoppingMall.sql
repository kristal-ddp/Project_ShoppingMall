CREATE USER shop IDENTIFIED BY a123
DEFAULT TABLESPACE USERS
TEMPORARY TABLESPACE TEMP;

GRANT CONNECT,RESOURCE,UNLIMITED TABLESPACE TO shop;

DROP TABLE BOARDS PURGE;
DROP TABLE ORDERS PURGE;
DROP TABLE IMAGE PURGE;
DROP TABLE PRODUCT PURGE;
DROP TABLE MEMBER PURGE;

CREATE TABLE MEMBER (
	USERID VARCHAR2(20),
	USERPWD VARCHAR2(20),
	USERNAME VARCHAR2(20),
	USERGENDER VARCHAR2(20),
	USERBIRTH DATE,
	ADDRESS1 VARCHAR2(50),
	ADDRESS2 VARCHAR2(50),
	ADDRESS3 VARCHAR2(50),
	ADDRESS4 VARCHAR2(50),
	USEREMAIL VARCHAR2(50),
	USERTEL CHAR(11),
	CONSTRAINT PK_MEMBER_USERID PRIMARY KEY (USERID));

CREATE TABLE PRODUCT (
	PRODUCTNUM NUMBER(10),
	PRODUCTNAME VARCHAR2(50),
	PRODUCTPRICE NUMBER,
	PRODUCTCATEGORY VARCHAR2(20),
	SAVEFILENAME1 VARCHAR2(100),
	ORIGINALFILENAME1 VARCHAR2(100),
	PRODUCTCOLOR VARCHAR2(20),
	PRODUCTSIZE VARCHAR2(20),
	CONSTRAINT PK_PRODUCT_PRODUCTNUM PRIMARY KEY (PRODUCTNUM));
	
CREATE TABLE IMAGE (
	PRODUCTNUM NUMBER(10),
	SAVEFILENAME2 VARCHAR2(100),
	ORIGINALFILENAME2 VARCHAR2(100),
	SAVEFILENAME3 VARCHAR2(100),
	ORIGINALFILENAME3 VARCHAR2(100),
	SAVEFILENAME4 VARCHAR2(100),
	ORIGINALFILENAME4 VARCHAR2(100),
	SAVEFILENAME5 VARCHAR2(100),
	ORIGINALFILENAME5 VARCHAR2(100),
	CONSTRAINT PK_IMAGE_PRODUCTNUM PRIMARY KEY (PRODUCTNUM),
	CONSTRAINT FK_IMAGE_PRODUCTNUM FOREIGN KEY (PRODUCTNUM) REFERENCES PRODUCT(PRODUCTNUM));

CREATE TABLE ORDERS (
	ORDERNUM NUMBER,
	USERID VARCHAR2(20),
	PRODUCTNUM NUMBER(10),
	PRODUCTQUANTITY NUMBER(5),
	PROGRESS VARCHAR2(20),
	CONSTRAINT PK_ORDERS_ORDERNUM PRIMARY KEY (ORDERNUM),
	CONSTRAINT FK_ORDERS_USERID FOREIGN KEY (USERID) REFERENCES MEMBER(USERID),
	CONSTRAINT FK_ORDERS_PRODUCTNUM FOREIGN KEY (PRODUCTNUM) REFERENCES PRODUCT(PRODUCTNUM));

CREATE TABLE BOARDS (
	BOARDNUM NUMBER,
	USERID VARCHAR2(20),
	PRODUCTNUM NUMBER(10),
	SUBJECT VARCHAR2(100),
	CONTENT VARCHAR2(1024),
	POSTDATE DATE,
	COMMUNITY VARCHAR2(20),
	HITCOUNT NUMBER,
	CONSTRAINT PK_BOARD_BOARDNUM PRIMARY KEY (BOARDNUM),
	CONSTRAINT FK_BOARD_USERID FOREIGN KEY (USERID) REFERENCES MEMBER(USERID),
	CONSTRAINT FK_BOARD_PRODUCTNUM FOREIGN KEY (PRODUCTNUM) REFERENCES PRODUCT(PRODUCTNUM));

INSERT INTO MEMBER VALUES('asd','asd','asd','m',sysdate,'asd','asd','asd','asd','as@asd.asd','01012341234');
INSERT INTO MEMBER VALUES('qwe','qwe','qwe','m',sysdate,'asd','asd','asd','asd','as@asd.asd','01012341234');
INSERT INTO PRODUCT VALUES(1,'asd',10000,'top','173bce5481474f6b91e2a2601ca8d394.jpg','173bce5481474f6b91e2a2601ca8d394.jpg','asd','asd');
INSERT INTO PRODUCT VALUES(2,'qwe',20000,'top','64b97bf1a03ba91c6b6dd29a187a30a9.jpg','64b97bf1a03ba91c6b6dd29a187a30a9.jpg','asd','asd');
INSERT INTO IMAGE VALUES(1,'11321db53b538a3d4081382bbaa400aa.jpg','11321db53b538a3d4081382bbaa400aa.jpg',
                            '4e5d76cf0d348d5224ae444416dcb20d.jpg','4e5d76cf0d348d5224ae444416dcb20d.jpg',
                            '80989cea58c248d7ebcd446b296148a2.jpg','80989cea58c248d7ebcd446b296148a2.jpg',
                            'ac802abaad4dda753c633e86ddade3ad.jpg','ac802abaad4dda753c633e86ddade3ad.jpg');
INSERT INTO IMAGE VALUES(2,'d8d9e338f860b1c253838b8a91245c15.jpg','d8d9e338f860b1c253838b8a91245c15.jpg',
                            'b9194b721c6a7147b9c9db2cadf582bd.jpg','b9194b721c6a7147b9c9db2cadf582bd.jpg',
                            'd6ae0bf423600d35937e4f87a153249d.jpg','d6ae0bf423600d35937e4f87a153249d.jpg',
                            'fce95d8ca5eed99d9a4ec75e76e4c83d.jpg','fce95d8ca5eed99d9a4ec75e76e4c83d.jpg');
INSERT INTO ORDERS VALUES(1,'asd',1,1,'cartList');
INSERT INTO ORDERS VALUES(2,'qwe',2,2,'wishList');
INSERT INTO ORDERS VALUES(3,'asd',2,1,'cartList');
INSERT INTO BOARDS VALUES(1,'asd',1,'asd','asdasdasd',SYSDATE,'QnA',0);
INSERT INTO BOARDS VALUES(2,'qwe',2,'qwe','asdasdasd',SYSDATE,'notice',0);

commit;

